<!DOCTYPE html>
<html lang="IT">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title>Your Rank</title>
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="../../css/style-artist-vcurrent.css">
    </head>
    <body>
        <nav class="top-bar-area-overlay-fixed bg-dark d-flex-row align-items-center j-c-center white z-index-max top-0 shadow-dark-400">
            <div class="container d-flex-row align-items-center j-c-space-between">
                <div class="d-flex-row align-items-center j-c-center">
                    <img src="../../assets/logo/logo-simple-artists.svg" alt="MIDLY">
                </div>
            </div>
        </nav>
        
        <div class="container pb-xs-appbar pt-xs-topbar">
            <div id="current-month">
                <h1>Giugno 2024</h1>
                <p class="fsize-xs-3 f-w-300 grey-200 letter-spacing-1 mt-xs-2">Da inizio mese ad oggi:</p>
            </div>

            <section id="metrics-full-state" class="mt-xs-2 mx-xs-auto">
                <div class="w-100 bg-dark-gradient d-flex-column j-c-center border-radius-08 pl-xs-8 pr-xs-8 pt-xs-8 pb-xs-8 mt-xs-4">
                    <p class="fsize-xs-1 grey-300 letter-spacing-3">FAN IN CLASSIFICA</p>
                    <div class="d-flex-row align-items-center gap-1em mt-xs-6">
                        <h4 class="fsize-xs-8 letter-spacing-2 f-w-500">7'666</h4>
                        <p class="fsize-xs-2 f-w-200 grey-200 letter-spacing-1 pt-xs-1 pb-xs-1 pl-xs-2 pr-xs-2 bg-green-900 border-radius-02"><span class="green-400 f-w-400">+3.6%</span> Rispetto a ieri</p>
                    </div>
                </div>
                <div class="w-100 bg-dark-gradient d-flex-column j-c-center border-radius-08 pl-xs-8 pr-xs-8 pt-xs-8 pb-xs-8 mt-xs-4">
                    <p class="fsize-xs-1 grey-300 letter-spacing-3">STREAM GENERATI DAI FAN</p>                    
                    <div class="d-flex-row align-items-center gap-1em mt-xs-6">
                        <h4 class="fsize-xs-8 letter-spacing-2 f-w-500">177K</h4>
                        <p class="fsize-xs-2 f-w-200 grey-200 letter-spacing-1 pt-xs-1 pb-xs-1 pl-xs-2 pr-xs-2 bg-green-900 border-radius-02"><span class="green-400 f-w-400">+2.7%</span> Rispetto a ieri</p>
                    </div>
                </div>
                <div class="w-100 bg-dark-gradient d-flex-column j-c-center border-radius-08 pl-xs-8 pr-xs-8 pt-xs-8 pb-xs-8 mt-xs-4">
                    <p class="fsize-xs-1 grey-300 letter-spacing-3">ASCOLTI MEDI PER FAN</p>                    
                    <div class="d-flex-row align-items-center gap-1em mt-xs-6">
                        <h4 class="fsize-xs-8 letter-spacing-2 f-w-500">113</h4>
                        <p class="fsize-xs-2 f-w-200 grey-200 letter-spacing-1 pt-xs-1 pb-xs-1 pl-xs-2 pr-xs-2 bg-red-900 border-radius-02"><span class="red-400 f-w-400">-1.7%</span> Rispetto a ieri</p>
                    </div>
                </div>                
            </section>

            <div class="w-100 bg-dark-gradient d-flex-column j-c-center border-radius-08 pl-xs-8 pr-xs-8 pt-xs-8 pb-xs-8 mt-xs-4">
                <p class="fsize-xs-1 grey-300 letter-spacing-3 mb-xs-4">COMPARAZIONE: STREAM</p>

                <div class="d-flex-row align-items-center gap-1em mb-xs-8">
                    <div class="d-flex-row align-items-center">
                        <div class="avatar-16 bg-acid-lime border-radius-02 no-shrink"></div>
                        <span class="fsize-xs-1 grey-300 ml-xs-2 no-shrink">Mese corrente</span>
                    </div>

                    <div class="d-flex-row align-items-center">
                        <div class="avatar-16 bg-blue-400 border-radius-02 no-shrink"></div>
                        <span class="fsize-xs-1 grey-300 ml-xs-2 no-shrink">Mese precedente</span>
                    </div>
                </div>

                <div id="graph"></div>
            </div>

            <div class="w-100 bg-dark-gradient d-flex-column j-c-center border-radius-08 pl-xs-8 pr-xs-8 pt-xs-8 pb-xs-8 mt-xs-4">
                <p class="fsize-xs-1 grey-300 letter-spacing-3 mb-xs-4">COMPARAZIONE: FAN IN CLASSIFICA</p>

                <div class="d-flex-row align-items-center gap-1em mb-xs-8">
                    <div class="d-flex-row align-items-center">
                        <div class="avatar-16 bg-acid-lime border-radius-02 no-shrink"></div>
                        <span class="fsize-xs-1 grey-300 ml-xs-2 no-shrink">Mese corrente</span>
                    </div>

                    <div class="d-flex-row align-items-center">
                        <div class="avatar-16 bg-blue-400 border-radius-02 no-shrink"></div>
                        <span class="fsize-xs-1 grey-300 ml-xs-2 no-shrink">Mese precedente</span>
                    </div>
                </div>

                <div id="graph-2"></div>
            </div>
        </div>
        
        <div class="app-bar-area d-flex-row j-c-center z-index-max">            
            <div class="container d-flex-row align-items-center j-c-space-between">
                <a href="posts-full.html">
                    <div class="d-flex-column align-items-center">
                        <img src="../../assets/icons/icon-fanclub-inactive.svg" alt="Posts">
                        <span class="fsize-xs-0 f-w-300 dark-200 letter-spacing-1">Fanclub</span>
                    </div>
                </a>
                <a href="leaderboard-open.html">
                    <div class="d-flex-column align-items-center">
                        <img src="../../assets/icons/icon-flash-leaderboard-inactive.svg" alt="Premi">
                        <span class="fsize-xs-0 f-w-300 dark-200 letter-spacing-1">Classifica flash</span>
                    </div>
                </a>
                <a href="metrics-full.html">
                    <div class="d-flex-column align-items-center">
                        <img src="../../assets/icons/icon-stats-active.svg" alt="Stats">
                        <span class="fsize-xs-0 f-w-600 lime-400 letter-spacing-1">Stats</span>
                    </div>
                </a>                
                <a href="profile-payment-data-empty.html">
                    <div class="d-flex-column align-items-center">
                        <img src="../../assets/icons/icon-profile-inactive.svg" alt="Profilo">
                        <span class="fsize-xs-0 f-w-300 dark-200 letter-spacing-1">Profilo</span>
                    </div>
                </a>                   
            </div>
        </div>
    </body>

    <script type="module">

        import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";
        
        const margin = {
            top: 20,
            bottom: 20,
            right: 10,
            left: 20
        };
        const width = parseInt(d3.select(".container").style("width")) * 0.85;
        const height = 200;

        // Set up the x and y scales
        const x = d3.scaleTime()
            .range([0, width]);

        const y = d3.scaleLinear()
            .range([height, 0]);

        // Create the SVG element and append it to the chart container
        const svg = d3.select("#graph")
            .append("svg")
                .attr("width", width)
                .attr("height", height + margin.top)
        
        const svg2 = d3.select("#graph-2")
            .append("svg")
                .attr("width", width)
                .attr("height", height + margin.top)

        // Create a fake dataset
        const dataset = [
            { date: new Date("2024-05-01"), value: 0 },
            { date: new Date("2024-05-02"), value: 67 },
            { date: new Date("2024-05-03"), value: 133 },
            { date: new Date("2024-05-04"), value: 167 },
            { date: new Date("2024-05-05"), value: 234 },
            { date: new Date("2024-05-06"), value: 311 },
            { date: new Date("2024-05-07"), value: 560 },
            { date: new Date("2024-05-08"), value: 666 },
            { date: new Date("2024-05-09"), value: 723 },
            { date: new Date("2024-05-10"), value: 899 },
            { date: new Date("2024-05-11"), value: 1101 },
            { date: new Date("2024-05-12"), value: 1399 },
            { date: new Date("2024-05-13"), value: 1601 },
            { date: new Date("2024-05-14"), value: 2007 },
            { date: new Date("2024-05-15"), value: 2345 },
            { date: new Date("2024-05-16"), value: 2674 },
            { date: new Date("2024-05-17"), value: 2999 },
            { date: new Date("2024-05-18"), value: 3417 },
            { date: new Date("2024-05-19"), value: 3765 },
            { date: new Date("2024-05-20"), value: 3998 },
            { date: new Date("2024-05-21"), value: 4465 },
            { date: new Date("2024-05-22"), value: 4678 },
            { date: new Date("2024-05-23"), value: 4886 },
            { date: new Date("2024-05-24"), value: 5012 },
            { date: new Date("2024-05-25"), value: 5678 },
            { date: new Date("2024-05-26"), value: 5777 },
            { date: new Date("2024-05-27"), value: 5992 },
            { date: new Date("2024-05-28"), value: 6233 },
            { date: new Date("2024-05-29"), value: 6465 },
            { date: new Date("2024-05-30"), value: 6714 },
            { date: new Date("2024-05-31"), value: 6999 },
        ];

        const dataset2 = [
            { date: new Date("2024-05-01"), value: 0 },
            { date: new Date("2024-05-02"), value: 211 },
            { date: new Date("2024-05-03"), value: 287 },
            { date: new Date("2024-05-04"), value: 344 },
            { date: new Date("2024-05-05"), value: 411 },
            { date: new Date("2024-05-06"), value: 520 },
            { date: new Date("2024-05-07"), value: 554 },
            { date: new Date("2024-05-08"), value: 698 },
            { date: new Date("2024-05-09"), value: 912 },
            { date: new Date("2024-05-10"), value: 994 },
            { date: new Date("2024-05-11"), value: 1381 },
            { date: new Date("2024-05-12"), value: 1699 },
            { date: new Date("2024-05-13"), value: 1712 },
            { date: new Date("2024-05-14"), value: 2103 },
            { date: new Date("2024-05-15"), value: 2291 },
            { date: new Date("2024-05-16"), value: 2341 },
            { date: new Date("2024-05-17"), value: 2780 }
        ];

        // Define the x and y domains
        x.domain(d3.extent(dataset, d => d.date));
        y.domain([0, d3.max(dataset, d => d.value)]);

        // Add the x-axis
        svg.append("g")
            .attr("transform", `translate(0,${height})`)
            .call(d3.axisBottom(x)
                .ticks(d3.timeDay.every(7)) 
                .tickFormat(d3.timeFormat("%b %Y"))); 

        svg2.append("g")
            .attr("transform", `translate(0,${height})`)
            .call(d3.axisBottom(x)
                .ticks(d3.timeDay.every(7)) 
                .tickFormat(d3.timeFormat("%b %Y")));

        //Add the y-axis
        svg.append("g")
            .call(d3.axisLeft(y))
        
        svg2.append("g")
            .call(d3.axisLeft(y))

        // Create the line generator
        const line = d3.line()
            .x(d => x(d.date))
            .y(d => y(d.value));
        
        const line2 = d3.line()
            .x(d => x(d.date))
            .y(d => y(d.value));

        // Add the line path to the SVG element

        svg.append("path")
            .datum(dataset)
            .attr("fill", "none")
            .attr("stroke", "#5CBBFF")
            .attr("stroke-width", 2)
            .attr("d", line);
        
        svg.append("path")
            .datum(dataset2)
            .attr("fill", "none")
            .attr("stroke", "#DAEF64")
            .attr("stroke-width", 2)
            .attr("d", line2);

        svg2.append("path")
            .datum(dataset)
            .attr("fill", "none")
            .attr("stroke", "#5CBBFF")
            .attr("stroke-width", 2)
            .attr("d", line);
        
        svg2.append("path")
            .datum(dataset2)
            .attr("fill", "none")
            .attr("stroke", "#DAEF64")
            .attr("stroke-width", 2)
            .attr("d", line2);
        </script>
</html>